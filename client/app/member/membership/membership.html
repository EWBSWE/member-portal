<div class="container membership">
  <div class="row">
    <div class="col-xs-12 col-md-6">
      <h1 translate>Sign up</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-md-6">
      <a href="" ng-click="setCurrentLanguage('en')">English</a>
      <a href="" ng-click="setCurrentLanguage('sv')">Svenska</a>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-md-6">
      <p><strong translate>
        We would love to see you join our community. Being a part of Engineers without borders gives you the possibility to get involved and influence our work for a better world. Your membership also supports our organization greatly and we need both active and supporting members. There is no requirement for an engineering degree, everyone is needed and all are welcome.
      </strong></p>

      <p class="help-block" translate>
        If you want to get involved we recommend that you contact your local group that you can find over at <a target="_blank" href="http://ingenjorerutangranser.se/organisation">ingenjorerutangranser.se/organisation</a>. You can also find available positions for current projects at <a target="_blank" href="http://volontar.ingenjorerutangranser.se">volontar.ingenjorerutangranser.se</a>. If you have any other questions that can't be answered by one of the local groups, feel free to contact us at <a href="mailto:info@ingenjorerutangranser.se">info@ingenjorerutangranser.se</a>.
      </p>

      <p class="help-block" translate>
        Do you any questions regarding your membership or anything payment related? Reach out to us at <a href="mailto:volontar@ingenjorerutangranser.se">volontar@ingenjorerutangranser.se</a>.
      </p>

      <a href="http://www.ingenjorerutangranser.se">
        <img class="logo" src="/assets/images/ewb-logo.png" alt="Logo" />
      </a>
    </div>
    <div class="col-xs-12 col-md-6">
      <form novalidate name="form" class="payment-form">
        <div ng-class="{'form-group': true, 'has-error': form.inputName.$invalid && !form.inputName.$pristine, 'has-success': form.inputName.$valid}">
          <label class="control-label" for="inputName" translate>First and last name</label>
          <input class="form-control" type="text" name="inputName" id="inputName" ng-model="newMember.name" required/>
        </div>

        <div ng-class="{'form-group': true, 'has-error': form.inputEmail.$error.email, 'has-success': form.inputEmail.$valid}">
          <label class="control-label" for="inputEmail" translate>Email</label>
          <input class="form-control" type="email" name="inputEmail" id="inputEmail" ng-model="newMember.email" required/>
          <p class="help-block" ng-show="form.inputEmail.$error.email" translate>
            Please enter a valid email address.
          </p>
        </div>

        <div class="row">
          <div class="col-xs-12 col-md-6">
            <div ng-class="{'form-group': true, 'has-error': form.inputYearOfBirth.$invalid && !form.inputYearOfBirth.$pristine, 'has-success': form.inputYearOfBirth.$valid}">
              <label class="control-label" for="inputYearOfBirth" translate>Year of birth</label>
              <input class="form-control" type="number" name="inputYearOfBirth" id="inputYearOfBirth" min="1900" ng-model="newMember.yearOfBirth" ng-init="newMember.yearOfBirth = 19"required/>
              <p class="help-block" translate>
                4 digits, for instance 1988
              </p>
            </div>
          </div>
          <div class="col-xs-12 col-md-6">
            <div ng-class="{'form-group': true, 'has-error': !newMember.gender && !form.$pristine, 'has-success': newMember.gender }">
              <div>
                <label translate>Gender</label>
              </div>
              <label class="radio-inline control-label">
                <input type="radio" name="gender" value="male" ng-model="newMember.gender"/>
                <span translate>Male</span>
              </label>
              <label class="radio-inline control-label">
                <input type="radio" name="gender" value="female" ng-model="newMember.gender" />
                <span translate>Female</span>
              </label>
              <label class="radio-inline control-label">
                <input type="radio" name="gender" value="other" ng-model="newMember.gender" />
                <span translate>Other</span>
              </label>
            </div>
          </div>
        </div>

        <div ng-class="{'form-group': true }">
          <label class="control-label" for="inputLocation" translate>Location</label>
          <input class="form-control" type="text" name="inputLocation" id="inputLocation" ng-model="newMember.location" required/>
        </div>

        <div class="row">
          <div class="col-xs-12 col-md-6">
            <div ng-class="{'form-group': true }">
              <label class="control-label" for="inputProfession" translate>Profession</label>
              <input class="form-control" type="text" name="inputProfession" id="inputProfession" ng-model="newMember.profession"/>
            </div>
          </div>
          <div class="col-xs-12 col-md-6">
            <div ng-class="{'form-group': true }">
              <label class="control-label" for="inputEducation" translate>Education</label>
              <input class="form-control" type="text" name="inputEducation" id="inputEducation" ng-model="newMember.education"/>
            </div>
          </div>
        </div>

        
        <div class="row">
          <div class="col-xs-12">
            <div>
                <label translate>Type</label>
            </div>
            <div ng-class="{'form-group': true, 'has-error': !newMember.type && !form.$pristine, 'has-success': newMember.type }">
              <label class="radio-inline control-label">
                <input type="radio" name="type" value="student" ng-model="newMember.type"/>
                <span translate>Student</span>
              </label>
              <label class="radio-inline control-label">
                <input type="radio" name="type" value="working" ng-model="newMember.type" />
                <span translate>Working</span>
              </label>
              <label class="radio-inline control-label">
                <input type="radio" name="type" value="senior" ng-model="newMember.type" />
                <span translate>Senior</span>
              </label>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12">
            <div>
                <label translate>Membership duration</label>
            </div>
            <div ng-class="{'form-group': true, 'has-error': !newMember.subscriptionLength && !form.$pristine, 'has-success': newMember.subscriptionLength}">
              <label class="radio-inline control-label">
                <input type="radio" name="subscriptionLength" value="1" ng-model="newMember.subscriptionLength" />
                <span translate>1 year</span>
              </label>
              <label class="radio-inline control-label">
                <input type="radio" name="subscriptionLength" value="3" ng-model="newMember.subscriptionLength" />
                <span translate>3 year</span>
              </label>
            </div>
          </div>
        </div>
        <p class="help-block" for="subscriptionLength" translate>
          Sign up for 1 year starting at 40 SEK for students or join 3 years for 90 SEK (costs for non-students are 100 SEK and 250 SEK, respectively).
        </p>

        <p class="text-warning" ng-show="form.$invalid || !newMember.type || !newMember.subscriptionLength" translate>
          Please fill out all required fields before clicking <strong>Sign up</strong>.
        </p>
        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-lg" ng-click="initiatePayment()" translate>Sign up</button>
        </div>
        <p class="help-block" translate>
          When you click <strong>Sign up</strong> your transaction is managed securely by <a href="https://stripe.com/se" target="_blank">Stripe</a>. When the transaction is completed we send you a confirmation to the email address specified above.
        </p>
      </form>
    </div>
  </div>
</div>

<div class="js-confirmation modal fade" role="dialog" aria-labelledby="confirmation-label">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="confirmation-label" translate>Thank you for the support!</h4>
      </div>
      <div class="modal-body">
        <p translate>A confirmation of your payment and your membership is sent to <strong>{{successEmail}}</strong>.</p>
        <p translate>Do you any questions regarding your membership or anything payment related? Reach out to us at <a href="mailto:volontar@ingenjorerutangranser.se">volontar@ingenjorerutangranser.se</a>.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" translate>Close</button>
      </div>
    </div>
  </div>
</div>

<div class="js-payment-error modal fade" role="dialog" aria-labelledby="confirmation-label">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="confirmation-label" translate>The transaction was unsuccessful</h4>
      </div>
      <div class="modal-body">
        <p>{{errorMessage}}</p>
        <p translate>Do you any questions regarding your membership or anything payment related? Reach out to us at <a href="mailto:volontar@ingenjorerutangranser.se">volontar@ingenjorerutangranser.se</a>.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" translate>Close</button>
      </div>
    </div>
  </div>
</div>
